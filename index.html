<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bricks & Mortar Constructions - Vastu Homes in Bengaluru</title>
    <!-- Tailwind CSS CDN - MUST BE LOADED FIRST -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tailwind CSS Custom Color Configuration - MUST BE AFTER CDN -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        coral: {
                            50: '#FFF2EE', // Very light for subtle accents
                            100: '#FCE7DF',
                            200: '#FADCD0',
                            300: '#F9C6B2',
                            400: '#F8A589',
                            500: '#F88363', // Primary Coral
                            600: '#E0765A',
                            700: '#C86951',
                            800: '#B05C48', // Darker for text/strong elements
                            900: '#984F3F', // Even darker for deepest contrast
                        },
                        cornsilk: {
                            50: '#FEFDF9', // Even lighter for backgrounds
                            100: '#FAEFC4', // Primary Cornsilk (light background)
                            200: '#F0E0B0', // Slightly darker for section backgrounds
                            300: '#E2D19C', // Mid-tone for borders/accents
                        },
                        // Define complementary dark and light colors for text and strong elements
                        'dark-complement': '#4A2C2A', // A rich dark brown
                        'light-complement': '#8A5F52', // A medium brown for secondary text
                    }
                }
            }
        }
    </script>
    <!-- Google Fonts - Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- AOS (Animate On Scroll) CSS -->
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

    <!-- Meta Pixel Code -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window, document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '663062509411612'); // YOUR PIXEL ID
        fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=663062509411612&ev=PageView&noscript=1" // YOUR PIXEL ID here too
    /></noscript>
    <!-- End Meta Pixel Code -->

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FEFDF9; /* cornsilk-50 fallback */
            overflow-x: hidden; /* Prevent horizontal scroll from animation */
        }

        /* Dynamic Gradient Background for the entire page */
        .animated-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, theme('colors.cornsilk.50'), theme('colors.cornsilk.200'), theme('colors.coral.300'));
            background-size: 400% 400%;
            animation: gradientAnimation 15s ease infinite;
            z-index: -2; /* Behind everything */
        }

        @keyframes gradientAnimation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* Content overlay to ensure readability over the dynamic background */
        .content-overlay {
            background-color: rgba(254, 253, 249, 0.95); /* cornsilk-50 with 95% opacity */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            min-height: 100%; /* Ensure it covers content height */
            z-index: -1; /* Place behind content, above fixed background */
        }


        /* Header specific styles */
        .main-header {
            position: fixed; /* Make header fixed */
            top: 0;
            left: 0;
            width: 100%;
            background-image: linear-gradient(to right, theme('colors.cornsilk.100'), theme('colors.cornsilk.200'));
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Enhanced shadow */
            padding-top: 1rem; /* Initial padding */
            padding-bottom: 1rem; /* Initial padding */
            transition: all 0.3s ease-in-out; /* Smooth transition for size changes */
            z-index: 900; /* Below modal, above content */
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom-left-radius: 0.75rem; /* rounded-b-lg */
            border-bottom-right-radius: 0.75rem; /* rounded-b-lg */
            padding-left: 1.5rem; /* px-6 */
            padding-right: 1.5rem; /* px-6 */
        }

        @media (min-width: 768px) { /* md:px-12 */
            .main-header {
                padding-left: 3rem;
                padding-right: 3rem;
            }
        }

        .main-header.scrolled {
            padding-top: 0.5rem; /* Smaller padding when scrolled */
            padding-bottom: 0.5rem; /* Smaller padding when scrolled */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); /* Stronger shadow when scrolled */
        }

        /* Logo specific styles */
        .header-logo {
            height: 80px; /* Bigger initial size */
            width: auto;
            transition: all 0.3s ease-in-out; /* Smooth transition for size changes */
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25); /* Enhanced shadow */
            border-radius: 0.5rem; /* Rounded corners for logo */
        }

        .header-logo.scrolled {
            height: 48px; /* Medium size when scrolled */
            margin-right: 0.75rem; /* Adjust margin when scrolled */
            box-shadow: 0 3px 6px rgba(0, 0, 0, 0.15); /* Smaller shadow when scrolled */
        }

        /* Ensure content is not hidden behind fixed header */
        .content-offset {
            padding-top: 100px; /* Adjusted based on new initial header height */
        }

        /* Modal specific styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* Dark semi-transparent background */
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000; /* High z-index to be on top */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
        }

        .modal-overlay.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background-color: #fff;
            padding: 2.5rem; /* Increased padding */
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.1); /* shadow-xl */
            max-width: 90%;
            width: 500px; /* Max width for the modal */
            text-align: center;
            position: relative;
            transform: translateY(-20px); /* Initial slight lift */
            transition: transform 0.3s ease;
        }

        .modal-overlay.show .modal-content {
            transform: translateY(0); /* Slide into place */
        }

        .modal-close-button {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: theme('colors.dark-complement');
            transition: color 0.2s ease;
        }

        .modal-close-button:hover {
            color: theme('colors.coral.500');
        }

        /* Loading spinner */
        .loader {
            border: 4px solid #f3f3f3; /* Light grey */
            border-top: 4px solid theme('colors.dark-complement');
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            display: none; /* Hidden by default */
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* CTA Button Pulse Animation */
        @keyframes pulse-shadow {
            0% { box-shadow: 0 0 0 0 rgba(248, 131, 99, 0.7); } /* coral-500 */
            70% { box-shadow: 0 0 0 15px rgba(248, 131, 99, 0); }
            100% { box-shadow: 0 0 0 0 rgba(248, 131, 99, 0); }
        }

        .cta-pulse-button {
            animation: pulse-shadow 2s infinite;
        }

        /* Gold Plan Ribbon */
        .ribbon {
            position: absolute;
            top: -10px;
            right: -10px;
            background-color: theme('colors.coral.500');
            color: theme('colors.dark-complement');
            padding: 0.25rem 1rem;
            font-weight: bold;
            font-size: 0.875rem; /* text-sm */
            border-radius: 0.375rem; /* rounded-md */
            transform: rotate(45deg) translate(0%, -50%);
            transform-origin: 100% 0%;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            z-index: 10;
        }
        .ribbon::before, .ribbon::after {
            content: '';
            position: absolute;
            border-style: solid;
        }
        .ribbon::before {
            border-width: 0 10px 10px 0;
            border-color: transparent theme('colors.coral.700') transparent transparent; /* Darker coral for fold */
            top: 100%;
            left: 0;
        }
        .ribbon::after {
            border-width: 10px 10px 0 0;
            border-color: theme('colors.coral.700') transparent transparent transparent; /* Darker coral for fold */
            top: 100%;
            right: 0;
        }

        /* Floating WhatsApp Button */
        .whatsapp-float-container {
            position: fixed;
            bottom: 1.5rem; /* Adjust as needed */
            right: 1.5rem; /* Adjust as needed */
            z-index: 999; /* High z-index to be on top of most content */
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .whatsapp-callout {
            background-color: theme('colors.dark-complement');
            color: theme('colors.cornsilk.50');
            padding: 0.5rem 1rem;
            border-radius: 0.5rem;
            font-size: 0.875rem; /* text-sm */
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
            opacity: 0;
            visibility: hidden;
            transform: translateX(10px);
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
            white-space: nowrap; /* Prevent text wrapping */
        }

        .whatsapp-float-container:hover .whatsapp-callout {
            opacity: 1;
            visibility: visible;
            transform: translateX(0);
        }

        .whatsapp-button {
            background-color: #25D366; /* WhatsApp green */
            color: white;
            border-radius: 9999px; /* full rounded */
            width: 56px; /* h-14 w-14 */
            height: 56px; /* h-14 w-14 */
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem; /* icon size */
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .whatsapp-button:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.4);
        }
    </style>
</head>
<body class="text-dark-complement relative">
    <!-- Dynamic Gradient Background for the entire page -->
    <div class="animated-background"></div>
    <!-- Content overlay to ensure readability over the dynamic background -->
    <div class="content-overlay"></div>

    <!-- Header Section -->
    <header id="mainHeader" class="main-header">
        <div class="flex items-center">
            <!-- Brand Logo -->
            <img id="mainLogo" src="https://raw.githubusercontent.com/bricksandmortarconstruction/bricksandmortar/5127402e22277ae048a865dc249d15011bcc9c82/logo.jpg" alt="Bricks & Mortar Constructions Logo" class="header-logo mr-3 rounded-md">
            <span class="text-xl font-bold text-dark-complement whitespace-nowrap">Bricks & Mortar Constructions</span>
        </div>
        <nav>
            <!-- Navigation links (optional for landing pages, often omitted) -->
        </nav>
    </header>

    <!-- Offset div to prevent content from being hidden behind fixed header -->
    <div class="content-offset"></div>

    <!-- Hero Section with Video Background and Parallax -->
    <section class="relative overflow-hidden py-20 px-6 md:px-12 text-center rounded-lg m-4 shadow-lg z-10" id="hero-section">
        <!-- Video Background -->
        <video autoplay loop muted playsinline class="absolute inset-0 w-full h-full object-cover" id="hero-video">
            <source src="https://raw.githubusercontent.com/bricksandmortarconstruction/bricksandmortar/57b8d5fb606cd1011e1c90cffaaf43b4758047c3/AdobeStock_297808003_Video_HD_Preview.mov" type="video/mp4">
            Your browser does not support the video tag.
        </video>
        <!-- Overlay for video to ensure text readability -->
        <div class="absolute inset-0 bg-dark-complement opacity-70"></div>

        <div class="relative z-10 text-white perspective-1000"> <!-- Added perspective -->
            <h1 class="text-4xl md:text-5xl font-extrabold leading-tight mb-4 transform translate-z-10">
                Build Your Dream Vastu Home in Bengaluru with Bricks & Mortar
            </h1>
            <p class="text-lg md:text-xl mb-8 max-w-3xl mx-auto transform translate-z-5">
                Experience harmonious living with our Vastu Shastra-compliant constructions. Plus, seize our limited-time "Freedom Offer" and get a Modular Kitchen worth â‚¹1 Lakh!
            </p>
            <a href="#cta-form" class="inline-block bg-coral-500 text-white hover:bg-coral-600 font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105 hover:shadow-xl cta-pulse-button">
                Claim Your Offer Today!
            </a>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="py-16 px-6 md:px-12 bg-white m-4 rounded-lg shadow-md relative z-10" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Why Choose Bricks & Mortar?</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Feature 1: Vastu Shastra Expertise -->
            <div class="bg-cornsilk-100 p-6 rounded-lg shadow-sm text-center transform transition duration-300 hover:scale-105 hover:shadow-xl hover:rotate-y-3">
                <div class="text-coral-700 mb-4">
                    <svg class="h-12 w-12 mx-auto" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2L2 7v10l10 5 10-5V7L12 2zm0 2.31L18.6 7.5 12 10.69 5.4 7.5 12 4.31zm-8 4.19l8 4v8l-8-4V8.5zm16 0V16.5l-8 4v-8l8-4z"/>
                    </svg>
                </div>
                <h3 class="text-dark-complement font-semibold mb-2">Authentic Vastu Compliance</h3>
                <p class="text-light-complement">Every project is meticulously designed and constructed following the principles of Vastu Shastra for peace and prosperity.</p>
            </div>
            <!-- Feature 2: Quality Construction -->
            <div class="bg-cornsilk-100 p-6 rounded-lg shadow-sm text-center transform transition duration-300 hover:scale-105 hover:shadow-xl hover:rotate-y-3">
                <div class="text-coral-700 mb-4">
                    <svg class="h-12 w-12 mx-auto" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <h3 class="text-dark-complement font-semibold mb-2">Uncompromising Quality</h3>
                <p class="text-light-complement">We use premium materials and employ skilled craftsmen to ensure durability and excellence in every build.</p>
            </div>
            <!-- Feature 3: Customer-Centric Approach -->
            <div class="bg-cornsilk-100 p-6 rounded-lg shadow-sm text-center transform transition duration-300 hover:scale-105 hover:shadow-xl hover:rotate-y-3">
                <div class="text-coral-700 mb-4">
                    <svg class="h-12 w-12 mx-auto" fill="currentColor" viewBox="0 0 24 24">
                        <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                </div>
                <h3 class="text-dark-complement font-semibold mb-2">Dedicated Customer Support</h3>
                <p class="text-light-complement">From concept to completion, our team provides personalized support and clear communication.</p>
            </div>
        </div>
    </section>

    <!-- Vastu Wisdom Assistant Section (New LLM Feature) -->
    <section id="vastu-assistant" class="py-16 px-6 md:px-12 bg-white m-4 rounded-lg shadow-md relative z-10" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">âœ¨ Vastu Wisdom Assistant âœ¨</h2>
        <p class="text-lg text-center mb-8 max-w-2xl mx-auto text-dark-complement">
            Ask our AI-powered Vastu Assistant for quick tips and insights for your home! For example, try "Vastu tips for kitchen" or "Best direction for main entrance".
        </p>
        <div class="max-w-xl mx-auto bg-cornsilk-100 p-6 rounded-lg shadow-inner">
            <textarea
                id="vastuInput"
                class="w-full p-3 rounded-md border border-cornsilk-300 focus:outline-none focus:ring-2 focus:ring-coral-500 text-dark-complement mb-4 resize-y"
                rows="3"
                placeholder="e.g., Vastu tips for bedroom, ideal placement of Pooja room..."
            ></textarea>
            <button
                id="getVastuTipBtn"
                class="w-full bg-dark-complement text-white hover:bg-light-complement font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105 flex items-center justify-center"
            >
                <span id="buttonText">Get Vastu Tip</span>
                <div id="loader" class="loader ml-3"></div>
            </button>
            <div id="vastuOutput" class="mt-6 p-4 bg-cornsilk-200 rounded-lg border border-cornsilk-300 text-dark-complement text-left min-h-[100px] flex items-center justify-center">
                <p class="text-light-complement italic">Your Vastu tip will appear here...</p>
            </div>
        </div>
    </section>

    <!-- Plans Section -->
    <section id="plans" class="py-16 px-6 md:px-12 bg-cornsilk-200 m-4 rounded-lg shadow-md relative z-10" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Our Construction Plans</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <!-- Silver Plan -->
            <div class="bg-white p-6 rounded-lg shadow-sm text-center border-t-4 border-cornsilk-300 transform transition duration-300 hover:scale-105 hover:shadow-xl hover:rotate-y-3">
                <h3 class="text-dark-complement font-bold mb-4">Silver Plan</h3>
                <p class="text-4xl font-extrabold text-dark-complement mb-4">â‚¹1849<span class="text-lg font-medium">/sqft</span></p>
                <ul class="text-light-complement text-left mx-auto max-w-xs mb-6 space-y-2">
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>Standard Quality Construction</li>
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>Essential Finishes</li>
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>Basic Design Support</li>
                </ul>
                <a href="#cta-form" class="inline-block bg-dark-complement text-white hover:bg-light-complement font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                    Choose Silver
                </a>
            </div>

            <!-- Gold Plan -->
            <div class="bg-white p-6 rounded-lg shadow-lg text-center border-t-4 border-coral-500 transform transition duration-300 hover:scale-105 hover:shadow-xl hover:rotate-y-3 relative">
                <div class="ribbon">Most Popular</div>
                <h3 class="text-dark-complement font-bold mb-4">Gold Plan</h3>
                <p class="text-4xl font-extrabold text-dark-complement mb-4">â‚¹2149<span class="text-lg font-medium">/sqft</span></p>
                <ul class="text-light-complement text-left mx-auto max-w-xs mb-6 space-y-2">
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>Premium Quality Construction</li>
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg><strong class="text-dark-complement">All Vastu Compliant Home Build</strong></li>
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>Enhanced Finishes & Fixtures</li>
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>Dedicated Design Consultation</li>
                </ul>
                <a href="#cta-form" class="inline-block bg-coral-500 text-white hover:bg-coral-600 font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                    Choose Gold
                </a>
            </div>

            <!-- Platinum Plan -->
            <div class="bg-white p-6 rounded-lg shadow-sm text-center border-t-4 border-dark-complement transform transition duration-300 hover:scale-105 hover:shadow-xl hover:rotate-y-3">
                <h3 class="text-dark-complement font-bold mb-4">Platinum Plan</h3>
                <p class="text-4xl font-extrabold text-dark-complement mb-4">â‚¹2449<span class="text-lg font-medium">/sqft</span></p>
                <ul class="text-light-complement text-left mx-auto max-w-xs mb-6 space-y-2">
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>Luxury Quality Construction</li>
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg><strong class="text-dark-complement">All Vastu Compliant Home Build</strong></li>
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>High-End Finishes & Smart Home Integration</li>
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>Comprehensive Project Management</li>
                    <li class="flex items-center"><svg class="h-5 w-5 text-dark-complement mr-2" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>Priority Support</li>
                </ul>
                <a href="#cta-form" class="inline-block bg-dark-complement text-white hover:bg-light-complement font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
                    Choose Platinum
                </a>
            </div>
        </div>
    </section>

    <!-- Offer Section -->
    <section class="py-16 px-6 md:px-12 bg-coral-500 text-dark-complement m-4 rounded-lg shadow-lg relative z-10" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">Exclusive Freedom Offer!</h2>
        <p class="text-lg md:text-xl mb-8 max-w-3xl mx-auto">
            Build your Vastu-compliant home with us and receive a
            <span class="text-3xl md:text-4xl font-extrabold text-dark-complement">Modular Kitchen accessories</span> worth
            <span class="text-5xl md:text-6xl font-extrabold text-cornsilk-50">â‚¹1 Lakh</span> absolutely FREE! Don't miss this limited-time opportunity.
        </p>
        <div id="countdown" class="text-xl md:text-2xl font-bold text-dark-complement mb-8">
            Offer ends in: <span id="days">00</span>Days <span id="hours">00</span>Hours <span id="minutes">00</span>Mins
        </div>
        <a href="#cta-form" class="inline-block bg-dark-complement text-white hover:bg-light-complement font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105">
            Unlock Your Free Modular Kitchen!
        </a>
    </section>

    <!-- Trusted By Section -->
    <section class="py-8 px-6 md:px-12 bg-dark-complement text-cornsilk-50 m-4 rounded-lg shadow-lg text-center" data-aos="fade-up">
        <p class="text-xl md:text-2xl font-semibold mb-4">Trusted by 100+ Bengaluru Families</p>
        <div class="flex justify-center items-center space-x-2 text-yellow-400 text-3xl">
            <span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9733;</span><span>&#9733;</span>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials" class="py-16 px-6 md:px-12 bg-cornsilk-200 m-4 rounded-lg shadow-md relative z-10" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">What Our Bengaluru Clients Say</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Testimonial 1 -->
            <div class="bg-white p-6 rounded-lg shadow-sm transform transition duration-300 hover:scale-105 hover:shadow-xl hover:rotate-y-3">
                <p class="text-dark-complement italic mb-4">"Bricks & Mortar built our dream home in Bengaluru, perfectly aligning with Vastu principles. The quality is exceptional, and the modular kitchen offer was a fantastic bonus!"</p>
                <div class="flex items-center">
                    <img class="h-12 w-12 rounded-full mr-4" src="https://placehold.co/48x48/4A2C2A/FEFDF9?text=RK" alt="Customer Avatar">
                    <div>
                        <p class="font-semibold text-dark-complement">Ravi Kumar</p>
                        <p class="text-sm text-light-complement">Homeowner, Bengaluru</p>
                    </div>
                </div>
            </div>
            <!-- Testimonial 2 -->
            <div class="bg-white p-6 rounded-lg shadow-sm transform transition duration-300 hover:scale-105 hover:shadow-xl hover:rotate-y-3">
                <p class="text-dark-complement italic mb-4">"We are so impressed with the attention to detail and the adherence to Vastu. The team was professional, and the process was smooth. Highly recommend their services!"</p>
                <div class="flex items-center">
                    <img class="h-12 w-12 rounded-full mr-4" src="https://placehold.co/48x48/4A2C2A/FEFDF9?text=SA" alt="Customer Avatar">
                    <div>
                        <p class="font-semibold text-dark-complement">Shalini Anand</p>
                        <p class="text-sm text-light-complement">Client, Bengaluru</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Us Section -->
    <section id="contact" class="py-16 px-6 md:px-12 bg-white m-4 rounded-lg shadow-md relative z-10" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold text-center mb-12">Contact Us</h2>
        <div class="flex flex-col items-center justify-center text-center">
            <p class="text-xl font-semibold text-dark-complement mb-4">Bricks & Mortar Constructions</p>
            <p class="text-lg text-light-complement mb-2 flex items-center">
                <svg class="h-6 w-6 inline-block mr-2 text-dark-complement" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5S10.62 6.5 12 6.5s2.5 1.12 2.5 2.5S13.38 11.5 12 11.5z"/>
                </svg>
                Serving across Bengaluru
            </p>
            <p class="text-lg text-light-complement mb-2 flex items-center">
                <svg class="h-6 w-6 inline-block mr-2 text-dark-complement" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1C10.02 21 3 13.98 3 5c0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25-.2 2.47-.57 3.59-.11.35-.03.75.24 1.02l2.2 2.2z"/>
                </svg>
                <a href="tel:+917559288580" class="hover:underline">+91 7559288580</a>
            </p>
            <p class="text-lg text-light-complement mb-4 flex items-center">
                <svg class="h-6 w-6 inline-block mr-2 text-dark-complement" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                </svg>
                <a href="mailto:bricksmortarconstruction@gmail.com" class="hover:underline">bricksmortarconstruction@gmail.com</a>
            </p>
        </div>
    </section>

    <!-- Call to Action / Lead Capture Form Section -->
    <section id="cta-form" class="py-16 px-6 md:px-12 bg-dark-complement text-white m-4 rounded-lg shadow-lg relative z-10" data-aos="fade-up">
        <h2 class="text-3xl md:text-4xl font-bold mb-6">Ready to Build Your Vastu Home?</h2>
        <p class="text-lg mb-8 max-w-2xl mx-auto">
            Fill out the form below to get a free consultation and learn more about our Vastu-compliant construction services and the modular kitchen offer!
        </p>
        <form class="max-w-md mx-auto" action="https://formspree.io/f/mldlpkrd" method="POST">
            <div class="flex flex-col sm:flex-row items-center justify-center gap-4">
                <input
                    type="text"
                    name="name"
                    placeholder="Your Name"
                    class="w-full sm:w-1/2 p-3 rounded-lg border border-cornsilk-300 focus:outline-none focus:ring-2 focus:ring-coral-500 text-dark-complement"
                    required
                >
                <input
                    type="email"
                    name="email"
                    placeholder="Your Email Address"
                    class="w-full sm:w-1/2 p-3 rounded-lg border border-cornsilk-300 focus:outline-none focus:ring-2 focus:ring-coral-500 text-dark-complement"
                    required
                >
            </div>
            <div class="flex flex-col sm:flex-row items-center justify-center gap-4 mt-4">
                <input
                    type="tel"
                    name="phone"
                    placeholder="Your Phone Number"
                    class="w-full sm:w-1/2 p-3 rounded-lg border border-cornsilk-300 focus:outline-none focus:ring-2 focus:ring-coral-500 text-dark-complement"
                    required
                >
                <input
                    type="text"
                    name="location"
                    placeholder="Your Location (City/Area)"
                    class="w-full sm:w-1/2 p-3 rounded-lg border border-cornsilk-300 focus:outline-none focus:ring-2 focus:ring-coral-500 text-dark-complement"
                    required
                >
            </div>
            <div class="flex justify-center mt-4">
                <button
                    type="submit"
                    class="w-full sm:w-1/2 bg-coral-500 text-white hover:bg-coral-600 font-bold py-3 px-6 rounded-lg shadow-md transition duration-300 ease-in-out transform hover:scale-105"
                >
                    Get Free Consultation
                </button>
            </div>
        </form>
    </section>

    <!-- Footer Section -->
    <footer class="bg-dark-complement text-cornsilk-100 py-8 px-6 md:px-12 text-center rounded-t-lg relative z-10">
        <p class="mb-4">&copy; 2025 Bricks & Mortar Constructions. All rights reserved.</p>
        <div class="flex justify-center space-x-6">
            <!-- Instagram Button -->
            <a href="https://www.instagram.com/bricksandmortarconstructions?igsh=cGZ5MThwODBlNGdt" target="_blank" class="text-cornsilk-300 hover:text-white transition duration-300" aria-label="Visit us on Instagram">
                <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                    <path fill-rule="evenodd" d="M12 0C8.75 0 8.33 0 7.08 0.05 5.83 0.1 4.88 0.3 4.08 0.61 3.25 0.93 2.53 1.4 1.86 2.07 1.2 2.74 0.67 3.46 0.35 4.29 0.04 5.09 0.04 6.04 0 7.29 0 8.75 0 12c0 3.25 0 3.67 0.05 4.92 0.05 1.25 0.25 2.2 0.56 3.01 0.32 0.83 0.79 1.55 1.46 2.22 0.67 0.67 1.39 1.2 2.22 1.52 0.81 0.31 1.76 0.51 3.01 0.56 1.25 0.05 1.67 0.05 4.92 0.05s3.67 0 4.92-0.05c1.25-0.05 2.2-0.25 3.01-0.56 0.83-0.32 1.55-0.79 2.22-1.46 0.67-0.67 1.2-1.39 1.52-2.22 0.31-0.81 0.51-1.76 0.56-3.01 0.05-1.25 0.05-1.67 0.05-4.92s0-3.67-0.05-4.92c-0.05-1.25-0.25-2.2-0.56-3.01-0.32-0.83-0.79-1.55-1.46-2.22-0.67-0.67-1.39-1.2-2.22-1.52C18.91 0.3 17.96 0.1 16.71 0.05 15.46 0 15.04 0 12 0zm0 2.25c3.25 0 3.67 0 4.92 0.05 1.12 0.05 1.83 0.25 2.37 0.46 0.55 0.21 0.96 0.48 1.31 0.83 0.35 0.35 0.62 0.76 0.83 1.31 0.21 0.54 0.41 1.25 0.46 2.37 0.05 1.25 0.05 1.67 0.05 4.92s0 3.67-0.05 4.92c-0.05 1.12-0.25 1.83-0.46 2.37-0.21 0.55-0.48 0.96-0.83 1.31-0.35 0.35-0.76 0.62-1.31 0.83-0.54 0.21-1.25 0.41-2.37 0.46-1.25 0.05-1.67 0.05-4.92 0.05s-3.67 0-4.92-0.05c-1.12-0.05-1.83-0.25-2.37-0.46-0.55-0.21-0.96-0.48-1.31-0.83-0.35-0.35-0.76-0.62-0.83-1.31-0.21-0.54-0.41-1.25-0.46-2.37-0.05-1.25-0.05-1.67-0.05-4.92s0-3.67 0.05-4.92c0.05-1.12 0.25-1.83 0.46-2.37 0.21-0.55 0.48-0.96 0.83-1.31 0.35-0.35 0.76-0.62 1.31-0.83 0.54-0.21 1.25-0.41 2.37-0.46C8.33 2.25 8.75 2.25 12 2.25zM12 6.5c-3.03 0-5.5 2.47-5.5 5.5s2.47 5.5 5.5 5.5 5.5-2.47 5.5-5.5-2.47-5.5-5.5-5.5zm0 2.25c1.79 0 3.25 1.46 3.25 3.25s-1.46 3.25-3.25 3.25-3.25-1.46-3.25-3.25 1.46-3.25 3.25-3.25zm5.5-5.5c-0.69 0-1.25 0.56-1.25 1.25s0.56 1.25 1.25 1.25 1.25-0.56 1.25-1.25-0.56-1.25-1.25-1.25z" clip-rule="evenodd" />
                </svg>
            </a>
            <!-- Facebook Button -->
            <a href="https://www.facebook.com/your_facebook_profile" target="_blank" class="text-cornsilk-300 hover:text-white transition duration-300" aria-label="Visit us on Facebook">
                <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
                    <path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.243-1.333 1.543-1.333h2.457v-4h-3.997c-4.183 0-5.003 2.333-5.003 5.003v2.667z"/>
                </svg>
            </a>
        </div>
    </footer>

    <!-- Pop-up Offer Banner (Modal) -->
    <div id="offerModal" class="modal-overlay">
        <div class="modal-content">
            <button class="modal-close-button" onclick="closeModal()">&times;</button>
            <h2 class="text-3xl md:text-4xl font-bold text-dark-complement mb-4">
                ðŸŽ‰ Exclusive Freedom Offer! ðŸŽ‰
            </h2>
            <p class="text-lg text-dark-complement mb-6">
                Build your dream Vastu-compliant home with us and receive a
                <span class="text-3xl font-extrabold text-dark-complement">Modular Kitchen accessories</span> worth
                <span class="text-4xl font-extrabold text-coral-500">â‚¹1 Lakh</span> absolutely FREE!
            </p>
            <a href="#cta-form" class="inline-block bg-dark-complement text-white hover:bg-light-complement font-bold py-3 px-8 rounded-full shadow-lg transition duration-300 ease-in-out transform hover:scale-105" onclick="closeModal()">
                Claim Your Free Kitchen Now!
            </a>
        </div>
    </div>

    <!-- Floating WhatsApp Button -->
    <a href="https://wa.me/917559288580?text=Hello%2C%20I%27m%20interested%20in%20your%20Vastu-compliant%20construction%20services%20and%20the%20Modular%20Kitchen%20offer!"
       target="_blank"
       class="whatsapp-float-container group"
       aria-label="Chat on WhatsApp">
        <span class="whatsapp-callout">Talk to our experts now â€“ no waiting!</span>
        <div class="whatsapp-button">
            <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor">
                <path d="M12.04 2c-5.45 0-9.91 4.46-9.91 9.91 0 1.75.46 3.45 1.35 4.95l-1.4 5.15 5.23-1.37c1.45.79 3.08 1.21 4.73 1.21 5.45 0 9.91-4.46 9.91-9.91s-4.46-9.91-9.91-9.91zm.04 18.12c-1.48 0-2.93-.41-4.19-1.18l-.3-.18-3.15.83.84-3.06-.2-.32c-.82-1.3-1.25-2.8-.95-4.32.7-3.6 3.97-6.32 7.82-6.32 3.99 0 7.27 3.28 7.27 7.27-.01 4-3.29 7.27-7.29 7.27zm4.07-5.59c-.22-.11-.96-.47-1.11-.52-.15-.05-.27-.01-.39.15-.12.16-.46.52-.56.63-.1.11-.2.12-.37.05-.17-.06-.72-.26-1.37-.84-.5-.45-1.05-.98-1.18-1.21-.13-.22-.01-.34.1-.45.1-.1.22-.26.32-.39.1-.12.15-.22.2-.34.05-.12.02-.23-.02-.34-.04-.11-.37-.89-.52-1.21-.15-.3-.3-.26-.4-.26h-.38c-.11 0-.29.04-.44.19-.15.15-.57.55-.57 1.34 0 .79.58 1.55.66 1.66.08.11 1.15 1.74 2.79 2.49 1.64.75 2.97.99 3.56.84.59-.15 1.04-.64 1.2-.98.16-.34.16-.63.11-.75-.05-.12-.19-.18-.4-.29z"/>
            </svg>
        </div>
    </a>

    <!-- AOS (Animate On Scroll) JavaScript -->
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
        AOS.init({
            duration: 1000, // animation duration
            once: true, // whether animation should happen only once - default
        });

        let offerModalInterval; // Declare a variable to hold the interval ID

        // Get the modal element
        const offerModal = document.getElementById('offerModal');

        // Function to show the modal
        function showModal() {
            offerModal.classList.add('show');
        }

        // Function to close the modal
        function closeModal() {
            offerModal.classList.remove('show');
            // Stop the interval when the modal is closed manually
            clearInterval(offerModalInterval);
        }

        // Show the modal after 2 seconds initially, then repeat every 10 seconds
        window.onload = function() {
            // Initial show after 2 seconds
            setTimeout(() => {
                showModal();
                // Start repeating every 10 seconds after the first one appears
                offerModalInterval = setInterval(showModal, 10000); // 10000 milliseconds = 10 seconds
            }, 2000);


            // Dynamic Header/Logo on Scroll
            const mainHeader = document.getElementById('mainHeader');
            const mainLogo = document.getElementById('mainLogo');
            const scrollThreshold = 100; // Adjust this value as needed

            window.addEventListener('scroll', () => {
                if (window.scrollY > scrollThreshold) {
                    mainHeader.classList.add('scrolled');
                    mainLogo.classList.add('scrolled');
                } else {
                    mainHeader.classList.remove('scrolled');
                    mainLogo.classList.remove('scrolled');
                }
            });
        };

        // Close modal if clicked outside the content
        offerModal.addEventListener('click', function(event) {
            if (event.target === offerModal) {
                closeModal();
            }
        });

        // Countdown Timer Logic
        const countdownElement = document.getElementById('countdown');
        const daysElement = document.getElementById('days');
        const hoursElement = document.getElementById('hours');
        const minutesElement = document.getElementById('minutes');

        // Set the end date for the offer (e.g., 3 days from now)
        // You can change this to a specific date if needed: new Date("YYYY-MM-DDTHH:MM:SS").getTime();
        const endDate = new Date();
        endDate.setDate(endDate.getDate() + 3); // Offer ends 3 days from now
        endDate.setHours(endDate.getHours() + 14); // Plus 14 hours
        endDate.setMinutes(endDate.getMinutes() + 37); // Plus 37 minutes
        const countdownTime = endDate.getTime();

        function updateCountdown() {
            const now = new Date().getTime();
            const distance = countdownTime - now;

            if (distance < 0) {
                clearInterval(countdownInterval);
                countdownElement.innerHTML = "OFFER EXPIRED!";
                return;
            }

            const days = Math.floor(distance / (1000 * 60 * 60 * 24));
            const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));

            daysElement.textContent = String(days).padStart(2, '0');
            hoursElement.textContent = String(hours).padStart(2, '0');
            minutesElement.textContent = String(minutes).padStart(2, '0');
        }

        // Update the countdown every minute (or every second if you need seconds)
        const countdownInterval = setInterval(updateCountdown, 60000); // Update every minute
        updateCountdown(); // Initial call to display immediately

        // Gemini API Integration for Vastu Wisdom Assistant
        const vastuInput = document.getElementById('vastuInput');
        const getVastuTipBtn = document.getElementById('getVastuTipBtn');
        const vastuOutput = document.getElementById('vastuOutput');
        const loader = document.getElementById('loader');
        const buttonText = document.getElementById('buttonText');

        getVastuTipBtn.addEventListener('click', async () => {
            console.log("Vastu tip button clicked!"); // Debugging log
            const prompt = vastuInput.value.trim();
            if (!prompt) {
                vastuOutput.innerHTML = '<p class="text-red-500">Please enter a question or topic for Vastu tips.</p>';
                return;
            }

            // Show loading indicator
            loader.style.display = 'block';
            buttonText.textContent = 'Getting Tip...';
            getVastuTipBtn.disabled = true;
            vastuOutput.innerHTML = '<p class="text-light-complement italic">Thinking...</p>';

            let chatHistory = [];
            chatHistory.push({ role: "user", parts: [{ text: `Provide a concise Vastu Shastra tip for the following query, focusing on practical advice for home construction or living in Bengaluru. If the query is not related to Vastu, politely state that you can only provide Vastu-related advice: "${prompt}"` }] });

            const payload = { contents: chatHistory };
            const apiKey = "AIzaSyAnL7eVN59MdcuFQVFV1UIOeNuV7FN7WG8"; // Your actual API key.
            console.log("Using API Key:", apiKey ? "Key is present" : "Key is EMPTY - API calls may fail outside Canvas!");


            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;

            let retryCount = 0;
            const maxRetries = 3;
            const initialDelay = 1000; // 1 second

            async function fetchWithExponentialBackoff() {
                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) {
                        const errorData = await response.json();
                        console.error("API Error Response:", errorData);
                        if (response.status === 429 && retryCount < maxRetries) {
                            const delay = initialDelay * Math.pow(2, retryCount);
                            retryCount++;
                            console.log(`Rate limit hit. Retrying in ${delay / 1000} seconds...`);
                            await new Promise(resolve => setTimeout(resolve, delay));
                            return fetchWithExponentialBackoff(); // Retry the fetch
                        }
                        throw new Error(`HTTP error! status: ${response.status} - ${errorData.error?.message || 'Unknown error'}`);
                    }

                    const result = await response.json();
                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        vastuOutput.innerHTML = `<p>${text}</p>`;
                    } else {
                        vastuOutput.innerHTML = '<p class="text-red-500">Could not get a Vastu tip. The API response was unexpected.</p>';
                    }
                } catch (error) {
                    console.error('Error fetching Vastu tip:', error);
                    vastuOutput.innerHTML = `<p class="text-red-500">Error: ${error.message}. Please check your browser console for details and ensure your API key is correctly configured.</p>`;
                } finally {
                    loader.style.display = 'none';
                    buttonText.textContent = 'Get Vastu Tip';
                    getVastuTipBtn.disabled = false;
                }
            }

            fetchWithExponentialBackoff();
        });
    </script>
</body>
</html>
